*{box-sizing:border-box}
:root{
  --bg:#0a0a0a;
  --panel:#141414;
  --muted:#8a8a8a;
  --text:#eaeaea;
  --accent:#4da3ff;
  --danger:#ff5c5c;
  --warning:#ffc24d;
  --ok:#54d38e;
  --table:#1b1b1b;
  --border:#2a2a2a;
}
html,body{height:100%}
body{
  margin:0;
  padding:0 1rem 3.5rem;
  background:linear-gradient(180deg,#0b1220,#0a0a0a);
  color:var(--text);
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji";
}
header{
  position:sticky;top:0;background:rgba(10,10,10,.75);backdrop-filter:blur(8px);
  padding:1rem 0 .5rem;margin-bottom:.5rem;border-bottom:1px solid var(--border);z-index:2;
}
h1{margin:0 0 .6rem;font-size:1.35rem}
.actions{display:flex;gap:.5rem;flex-wrap:wrap;align-items:center}
.actions input[type=search], .actions select{flex:1;min-width:160px;padding:.6rem .8rem;border:1px solid var(--border);border-radius:.6rem;background:var(--panel);color:var(--text)}
.actions button,.import-label{padding:.6rem .8rem;border:1px solid var(--border);border-radius:.6rem;background:var(--panel);color:var(--text);cursor:pointer}
.import-label{display:inline-flex;align-items:center;gap:.5rem}
.import-label input{display:none}
button:hover{outline:1px solid var(--accent)}
button.danger{border-color:#4a1414;background:#231414;color:#ffb3b3}
main{max-width:1100px;margin:0 auto}
#toc{display:flex;flex-wrap:wrap;gap:.4rem;margin-top:.5rem}
#toc a{padding:.35rem .6rem;border:1px solid var(--border);border-radius:.5rem;background:#10131a;color:#d7e6ff;text-decoration:none;font-size:.9rem}
#toc a:hover{outline:1px solid var(--accent)}
.category{margin:1rem 0 1.2rem;padding:0.6rem;border:1px solid var(--border);background:rgba(20,20,20,.6);border-radius:.8rem}
.cat-title{position:sticky;top:60px;background:rgba(20,20,20,.85);backdrop-filter:blur(6px);margin:0;padding:.4rem .6rem;border-left:4px solid var(--accent);z-index:1}
.cat-actions{display:flex;gap:.5rem;align-items:center;flex-wrap:wrap;padding:.4rem .2rem .6rem;color:#cfcfcf}
table{width:100%;border-collapse:separate;border-spacing:0 8px}
thead th{font-weight:600;color:#cfcfcf;text-align:left;padding:.5rem .75rem}
tbody tr{background:var(--table);border:1px solid var(--border)}
tbody td{padding:.5rem .75rem;vertical-align:middle}
.name{font-weight:600}
.qty-col{width:130px}
.qty{width:100%;padding:.4rem;border:1px solid var(--border);border-radius:.4rem;background:var(--panel);color:var(--text);text-align:right}
.date-group{display:flex;align-items:center;gap:.3rem;flex-wrap:wrap}
.date-group select{padding:.35rem .5rem;border:1px solid var(--border);border-radius:.4rem;background:var(--panel);color:var(--text)}
.date-group .today{padding:.35rem .6rem}
.tools-col{white-space:nowrap}
.tools-col button{margin-right:.25rem}
.low{box-shadow:0 0 0 2px var(--warning) inset}
.empty{opacity:.75}
footer{position:fixed;bottom:0;left:0;right:0;background:rgba(0,0,0,.5);backdrop-filter:blur(6px);padding:.5rem 1rem;border-top:1px solid var(--border)}
dialog{border:none;border-radius:.8rem;padding:1rem;background:var(--panel);color:var(--text)}
dialog::backdrop{background:rgba(0,0,0,.4)}
.dialog-actions{display:flex;justify-content:flex-end;gap:.5rem;margin-top:.75rem}
@media (max-width:640px){
  .qty-col{width:100px}
  .tools-col button{padding:.35rem .55rem}
}


/* トップへ戻るボタン */
#topBtn {
  position: fixed;
  bottom: 80px;
  right: 20px;
  width: 60px;
  height: 60px;
  border-radius: 50%;
  border: none;
  background: rgba(255,255,255,0.0);
  cursor: pointer;
  display: none;
  z-index: 999;
  padding: 0;
}
#topBtn img {
  width: 100%;
  height: 100%;
  border-radius: 50%;
}
#topBtn.show {
  display: block;
  animation: fadeIn 0.3s ease-in-out;
}
@keyframes fadeIn {
  from {opacity:0; transform: translateY(20px);}
  to {opacity:1; transform: translateY(0);}
}
